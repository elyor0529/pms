
<form class="form-horizontal" role="form" novalidate="novalidate" ng-submit="add()" disable-auto-validate="true" validate-on-form-submit="true">

    <div class="row">
        <div class="col-md-10">
            <div class="form-group input-sm">
                <label for="propertyUnit" class="col-md-2 control-label">Property/Unit:</label>
                <select id="propertyUnit"
                        ng-options="property.id as property.name for property in properties"
                        data-ng-model="tenantData.property.id"
                        class="form-control"
                        name="propertyUnit"></select>
            </div>
        </div>
    </div>

    <table style="width:100%">

        <tbody data-ng-repeat="tenant in tenantData.tenants">
            <tr>
                <td>
                    <h3>
                        <small>Tenant {{$index+1}}</small>
                        <a ng-show="$index>0" class="btn btn-xs btn-default" ng-click="removeTenant($index)">
                            <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </a>
                    </h3>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <label for="company{{$index+1}}" class="control-label">Company</label>
                        <input id="company{{$index+1}}" name="company{{$index+1}}" type="text" class="form-control  input-sm" data-ng-model="tenant.company" placeholder="Company" />
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="row">

                        <div class="col-xs-3">
                            <div class="form-group">
                                <label for="firstName{{$index+1}}" class="control-label">First Name</label>
                                <input id="firstName{{$index+1}}" name="firstName{{$index+1}}" type="text" class="form-control  input-sm" data-ng-model="tenant.firstName" placeholder="First Name" required />
                            </div>
                        </div>

                        <div class="col-xs-3">
                            <div class="form-group">
                                <label for="lastName{{$index+1}}" class="control-label">Last Name</label>
                                <input id="lastName{{$index+1}}" name="lastName{{$index+1}}" type="text" class="form-control  input-sm" data-ng-model="tenant.lastName" placeholder="Last Name" required />
                            </div>
                        </div>

                        <div class="col-xs-3">
                            <div class="form-group">
                                <label for="dob{{$index+1}}" class="control-label">Date of Birth</label>
                                <input id="dob{{$index+1}}" name="dob{{$index+1}}" type="text" class="form-control  input-sm" data-provide="datepicker" data-ng-model="tenant.dob" placeholder="mm/dd/yyyy" />
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="row">

                        <div class="col-xs-3">
                            <div class="form-group">
                                <label for="cellPhone{{$index+1}}" class="control-label">Cell Phone</label>
                                <input id="cellPhone{{$index+1}}" name="cellPhone{{$index+1}}" type="tel" class="form-control   input-sm" data-ng-model="tenant.cellPhone" placeholder="Cell Phone" required />
                            </div>
                        </div>

                        <div class="col-xs-3">
                            <div class="form-group">
                                <label for="homePhone{{$index+1}}" class="control-label">Home Phone</label>
                                <input id="homePhone{{$index+1}}" name="homePhone{{$index+1}}" type="tel" class="form-control   input-sm" data-ng-model="tenant.homePhone" placeholder="Home Phone" />
                            </div>
                        </div>

                        <div class="col-xs-3">
                            <div class="form-group">
                                <label for="email{{$index+1}}" class="control-label">Email</label>
                                <input id="email{{$index+1}}" name="email{{$index+1}}" type="email" class="form-control   input-sm" data-ng-model="tenant.email" placeholder="Email" required />
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>

    </table>

    <p style="padding-top:10px">
        <button class="btn btn-sm btn-success" ng-click="addTenant()">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            Add Tanent
        </button>
    </p>

    <div class="page-header">
        <h4>Lease Details</h4>
    </div>

    <table style="width:100%">
        <tr>
            <td>

                <div class="row">

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="leaseType" class="control-label">Agreement Type</label>
                            <select id="leaseType"
                                    name="leaseType"
                                    data-ng-model="tenantData.lease.leaseTypeId"
                                    class="form-control"
                                    ng-options="leaseType.id as leaseType.name for leaseType in leaseTypes"
                                    required></select>
                        </div>
                    </div>

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="startDate" class="control-label">Lease start</label>
                            <input type="text" placeholder="mm/dd/yyyy" data-provide="datepicker" id="startDate" name="startDate" data-ng-model="tenantData.lease.startDate" class="form-control input-sm" />
                        </div>
                    </div>

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="endDate" class="control-label">Lease End</label>
                            <input type="text" placeholder="mm/dd/yyyy" data-provide="datepicker" id="endDate" name="endDate" data-ng-model="tenantData.lease.endDate" class="form-control input-sm" />
                        </div>
                    </div>

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="deposit" class="control-label">Deposit/Prepaid:</label>
                            <input name="deposit" id="deposit" type="number" data-ng-model="tenantData.lease.deposit" class="form-control input-sm" />
                        </div>
                    </div>

                </div>
            </td>
        </tr>
        <tr>
            <td>
                <div class="row">

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="delinquentAfter" class="control-label">Delinquent Day</label>
                            <select id="delinquentAfter"
                                    name="delinquentAfter"
                                    ng-options="key as value for (key,value) in delinquents"
                                    data-ng-model="tenantData.lease.delinquentAfter"
                                    class="form-control input-sm"></select>
                        </div>
                    </div>

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="rent" class="control-label">Rent Amount</label>
                            <input name="rent" id="rent" type="number" data-ng-model="tenantData.lease.rent" class="form-control input-sm" />
                        </div>
                    </div>

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="paymentFrequency" class="control-label">Frequency</label>
                            <select name="paymentFrequency"
                                    id="paymentFrequency"
                                    data-ng-model="tenantData.lease.paymentFrequencyId"
                                    ng-options="paymentFrequency.id as paymentFrequency.name for paymentFrequency in paymentFrequencies"
                                    class="form-control"></select>
                        </div>
                    </div>

                    <div class="col-xs-3">
                        <div class="form-group">
                            <label for="paymentType" class="control-label">Payment Type</label>
                            <select id="paymentType"
                                    name="paymentType"
                                    data-ng-model="tenantData.lease.paymentTypeId"
                                    ng-options="paymentType.id as paymentType.name for paymentType in paymentTypes"
                                    class="form-control"></select>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
    </table>

    <div class="page-header">
        <h4>Restrictions</h4>
    </div>
    <div class="row">
        <div class="col-xs-2">
            <div class="form-group">
                <label for="petsFlag" class="control-label">
                    No Pets
                </label>
                <input type="checkbox" data-ng-model="tenantData.lease.petsFlag" id="petsFlag" name="petsFlag"/>
            </div>
        </div>
        <div class="col-xs-2">
            <div class="form-group">
                <label for="smokingFlag" class="control-label">
                    No Smoking
                </label>
                <input type="checkbox" data-ng-model="tenantData.lease.smokingFlag" name="smokingFlag" id="smokingFlag" />
            </div>
        </div>
    </div>

    <div class="page-header">
        <h4>Files/Attachments</h4>
    </div>
    <div class="form-group">
        <span class="btn btn-default btn-file">
            <i class="fa fa-paperclip"></i> Browse
            <input type="file" ngf-select="selectFile($file)" />
        </span>
        <ul style="list-style-type:none;">
            <li ng-repeat="file in files">
                <div style="display:inline-block;">
                    <span class="fa fa-file" aria-hidden="true"></span>
                    {{file.name}}
                </div>
                <div style="display:inline-block;">
                    <a class="btn btn-sm btn-default" ng-click="removeFile($index)">
                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </a>
                </div>
            </li>
        </ul>
    </div>

    <div class="page-header">
        <h4>Occupancy Details</h4>
    </div>
    <div class="row">

        <div class="col-xs-2">
            <div class="form-group">
                <label for="moveInDate" class="control-label"> Move-in Date</label>
                <input type="text" placeholder="mm/dd/yyyy" name="moveInDate" id="moveInDate" data-provide="datepicker" data-ng-model="tenantData.lease.moveInDate" class="form-control input-sm" />
            </div>
        </div>

        <div class="col-lg-9">
            <div class="form-group">
                <label for="notes" class="control-label">Notes/Memo</label>
                <textarea class="form-control" data-ng-model="tenantData.lease.notes" id="notes" name="notes" rows="4"></textarea>
            </div>
        </div>
    </div>

    <div class="page-header small">
    </div>

    <div style="text-align:center">
        <input type="submit" class="btn btn-primary" value="Save" />
        <a href="#/tenant/list" class="btn btn-warning">Cancel</a>
    </div>

</form>
